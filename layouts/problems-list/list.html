{{ define "main" }}
<div style="max-width: 768px; margin: 0 auto; padding: 2rem 1rem;">
  <h1 style="font-size: 1.5rem; font-weight: 700; color: #000; margin-bottom: 1rem; border-bottom: 1px solid #dee2e6; padding-bottom: 0.5rem;">{{ .Title }}</h1>
  <ul style="list-style: none; padding: 0; margin: 0;">
    {{/* Aggregate problems for the current course by scanning site pages */}}
    {{ $parts := split .File.Dir "/" }}
    {{ $slug := index $parts 1 }}
    {{ $problems := slice }}
    {{ range .Site.RegularPages }}
      {{ if in .File.Path (printf "content/courses/%s/week" $slug) }}
        {{ $problems = $problems | append . }}
      {{ end }}
    {{ end }}

    {{ if gt (len $problems) 0 }}
      {{ range $p := sort $problems ".File.Path" }}
      <li style="padding: 0.75rem 0; border-bottom: 1px solid #e9ecef;">
        <a href="{{ if $p.Params.external }}{{ $p.Params.external }}{{ else }}{{ $p.RelPermalink }}{{ end }}" style="color: #007bff; text-decoration: none; font-size: 1.0625rem;" {{ if $p.Params.external }}target="_blank" rel="noopener"{{ end }}>{{ $p.Title }}</a>
        {{ with $p.Params.description }}
        <p style="color: #6c757d; margin: 0.25rem 0 0 0; font-size: 0.875rem;">{{ . }}</p>
        {{ end }}
      </li>
      {{ end }}
    {{ else }}
      <li style="padding: 0.75rem 0; border-bottom: 1px solid #e9ecef; color: #6c757d;">Chưa có bài tập nào cho khóa học này.</li>
    {{ end }}
  </ul>
</div>
{{ end }}
